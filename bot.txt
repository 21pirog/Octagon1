const TelegramBot = require('node-telegram-bot-api');

// replace the value below with the Telegram token you receive from @BotFather
const token = '7185067535:AAEEqZmL_MLShQmZMbP46DzQQaAbCrNVvfk';

// Create a bot that uses 'polling' to fetch new updates
const bot = new TelegramBot(token, {polling: true});

// Matches "/echo [whatever]"
	bot.onText(/start/, function (msg, match) {
	var userId = msg.from.id;
	bot.sendMessage(userId, '–ü—Ä–∏–≤–µ—Ç, –û–∫—Ç–∞–≥–æ–Ω!');
});

 bot.onText(/help/, function (msg, match) {
	var userId = msg.from.id;
	bot.sendMessage(userId, '/site - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ —á–∞—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∞–π—Ç –æ–∫—Ç–∞–≥–æ–Ω–∞ \n /creator - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ —á–∞—Ç –≤–∞—à–µ –§–ò–û');
});

	bot.onText(/site/, function (msg, match) {
	var userId = msg.from.id;
	bot.sendMessage(userId, 'https://students.forus.ru');
});

	bot.onText(/creator/, function (msg, match) {
	var userId = msg.from.id;
	bot.sendMessage(userId, '–ö—É–ª–∏—á–∫–∏–Ω–∞ –ê–ª–∏–Ω–∞');
});

	bot.onText(/^\!webscr/, function(msg) {
  console.log(msg);
  var userId = msg.from.id;
  var url = msg.text.substring(8).trim();
  var image = "https://mini.s-shot.ru/?" + url;
bot.sendMessage(msg.chat.id, "[üì∑](" + image + ") C–∫—Ä–∏–Ω—à–æ—Ç —Å–∞–π—Ç–∞: " + url,{parse_mode : "Markdown"});
});

//qr comando
	bot.onText(/^\!qr/, function(msg) {
  console.log(msg);
  var userId = msg.from.id;
  var data = msg.text.substring(3).trim();
  var imageqr = "https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=" + data;
bot.sendMessage(msg.chat.id, "[‚úèÔ∏è](" + imageqr + ")Qr-–∫–æ–¥: " + data,{parse_mode : "Markdown"});
});